{
  "hash": "738648a02dee28f35cb67d5f28b9760a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Tidy Tuesday: CDC Archived Datasets\"\nauthor: \"Sean Thimons\"\ndate: \"2025-02-11\"\ndescription: \"Exploring the metadata of 1,257 CDC datasets archived before a federal purge of LGBTQ+ and HIV-related health data.\"\ncategories: [tidytuesday, R, public health, text analysis]\n---\n\n\n\n# Preface\n\nFrom [TidyTuesday repository](https://github.com/rfordatascience/tidytuesday/blob/main/data/2025/2025-02-11/readme.md).\n\n> This week's dataset documents CDC datasets that were archived before the Trump administration purged health agency websites of LGBTQ+ and HIV-related content. The data includes metadata for 1,257 archived datasets along with Federal Program Inventory (FPI) codes and OMB bureau codes that map programs to their parent agencies.\n>\n> The Infectious Disease Society of America emphasized that \"removal of HIV- and LGBTQ-related resources...creates a dangerous gap in scientific information\" crucial for disease professionals and outbreak response.\n>\n> -   Which Bureaus and Programs contain the most archived datasets?\n> -   What keywords appear most frequently across datasets?\n\n## Loading necessary packages\n\nMy handy booster pack that allows me to install (if needed) and load my usual and favorite packages, as well as some helpful functions.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-fold=\"true\"}\n# Packages ----------------------------------------------------------------\n\n{\n  # Install pak if it's not already installed\n  if (!requireNamespace(\"pak\", quietly = TRUE)) {\n    install.packages(\n      \"pak\",\n      repos = sprintf(\n        \"https://r-lib.github.io/p/pak/stable/%s/%s/%s\",\n        .Platform$pkgType,\n        R.Version()$os,\n        R.Version()$arch\n      )\n    )\n  }\n\n  # CRAN Packages ----\n  install_booster_pack <- function(package, load = TRUE) {\n    for (pkg in package) {\n      if (!requireNamespace(pkg, quietly = TRUE)) {\n        pak::pkg_install(pkg)\n      }\n      if (load) {\n        library(pkg, character.only = TRUE)\n      }\n    }\n  }\n\n  if (file.exists('packages.txt')) {\n    packages <- read.table('packages.txt')\n\n    install_booster_pack(package = packages$Package, load = FALSE)\n\n    rm(packages)\n  } else {\n    ## Packages ----\n\n    booster_pack <- c(\n      ### IO ----\n      'fs',\n      'here',\n      'janitor',\n      'rio',\n      'tidyverse',\n\n      ### EDA ----\n      'skimr',\n\n      ### Plot ----\n      'camcorder',\n      # 'esquisse',          # Interactive plot builder\n      # 'paletteer',         # Color palette collection\n      'patchwork', # Multi-panel layouts — combining keyword and category plots\n      'ggtext', # Rich text in ggplot — formatted subtitle/caption text\n      'ggrepel', # Non-overlapping labels — labeling top categories\n\n      ### Text ----\n      'tidytext', # Text mining — tokenizing tags/keywords column\n\n      ### Reporting ----\n      'gt', # Grammar of tables — formatted summary tables\n\n      ### Misc ----\n      'tidytuesdayR'\n    )\n\n    # ! Change load flag to load packages\n    install_booster_pack(package = booster_pack, load = TRUE)\n    rm(install_booster_pack, booster_pack)\n  }\n\n  # Custom Functions ----\n\n  `%ni%` <- Negate(`%in%`)\n\n  geometric_mean <- function(x) {\n    exp(mean(log(x[x > 0]), na.rm = TRUE))\n  }\n\n  my_skim <- skim_with(\n    numeric = sfl(\n      n = length,\n      min = ~ min(.x, na.rm = T),\n      p25 = ~ stats::quantile(., probs = .25, na.rm = TRUE, names = FALSE),\n      med = ~ median(.x, na.rm = T),\n      p75 = ~ stats::quantile(., probs = .75, na.rm = TRUE, names = FALSE),\n      max = ~ max(.x, na.rm = T),\n      mean = ~ mean(.x, na.rm = T),\n      geo_mean = ~ geometric_mean(.x),\n      sd = ~ stats::sd(., na.rm = TRUE),\n      hist = ~ inline_hist(., 5)\n    ),\n    append = FALSE\n  )\n}\n```\n:::\n\n\n\n# Load raw data from package\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nraw <- tidytuesdayR::tt_load('2025-02-11')\n\ncdc_datasets <- raw$cdc_datasets\nfpi_codes <- raw$fpi_codes\nomb_codes <- raw$omb_codes\n```\n:::\n\n\n\n# Exploratory Data Analysis\n\nThe `my_skim()` function is a modified version of the `skimr::skim()` function that returns the number of missing data points (cells as `NA`) as well as the inverse (e.g.: number of rows that are *not* `NA`), the count, minimum, 25%, median, 75%, max, mean, geometric mean, and standard deviation. It also generates a little ASCII histogram. Neat!\n\n## CDC Datasets\n\nThe CDC datasets table is primarily character columns (URLs, tags, contact info), so we'll focus on completeness patterns rather than numeric summaries. Columns like `footnotes`, `license`, `described_by`, and `glossary_methodology` are likely sparse and less analytically useful.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncdc_datasets %>%\n  select(\n    -footnotes,\n    -license,\n    -suggested_citation,\n    -glossary_methodology,\n    -analytical_methods_reference,\n    -access_level_comment,\n    -collection,\n    -language\n  ) %>%\n  skim()\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |           |\n|:------------------------|:----------|\n|Name                     |Piped data |\n|Number of rows           |1257       |\n|Number of columns        |19         |\n|_______________________  |           |\n|Column type frequency:   |           |\n|character                |19         |\n|________________________ |           |\n|Group variables          |None       |\n\n\n**Variable type: character**\n\n|skim_variable               | n_missing| complete_rate| min|  max| empty| n_unique| whitespace|\n|:---------------------------|---------:|-------------:|---:|----:|-----:|--------:|----------:|\n|dataset_url                 |         0|          1.00|  64|  257|     0|     1257|          0|\n|contact_name                |        13|          0.99|   3|  144|     0|      134|          0|\n|contact_email               |         7|          0.99|   4|   54|     0|       91|          0|\n|bureau_code                 |         8|          0.99|   6|    7|     0|        6|          0|\n|program_code                |         8|          0.99|   6|    7|     0|       16|          0|\n|category                    |         0|          1.00|   4|  100|     0|       53|          0|\n|tags                        |         0|          1.00|   4| 1683|     0|      798|          0|\n|publisher                   |       597|          0.53|   3|  178|     0|       29|          0|\n|public_access_level         |       647|          0.49|   6|   17|     0|        4|          0|\n|source_link                 |       673|          0.46|  19|  140|     0|      143|          0|\n|issued                      |       900|          0.28|   4|   13|     0|      122|          0|\n|geographic_coverage         |       920|          0.27|   2|  118|     0|       25|          0|\n|temporal_applicability      |       948|          0.25|   4|  143|     0|      187|          0|\n|update_frequency            |       919|          0.27|   5|   82|     0|       31|          0|\n|described_by                |      1085|          0.14|  39|  150|     0|      126|          0|\n|homepage                    |       767|          0.39|  23|  123|     0|      122|          0|\n|geographic_unit_of_analysis |      1214|          0.03|   5|   56|     0|       21|          0|\n|geospatial_resolution       |      1122|          0.11|   5|   37|     0|       28|          0|\n|references                  |      1063|          0.15|   3|  651|     0|       75|          0|\n\n\n:::\n:::\n\n\n\nThe key columns for our analysis are `category`, `tags`, `bureau_code`, `program_code`, and `public_access_level`. The `tags` column contains comma-separated keywords that we can tokenize for text analysis.\n\n## FPI Codes\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfpi_codes %>%\n  skim()\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |           |\n|:------------------------|:----------|\n|Name                     |Piped data |\n|Number of rows           |1554       |\n|Number of columns        |6          |\n|_______________________  |           |\n|Column type frequency:   |           |\n|character                |6          |\n|________________________ |           |\n|Group variables          |None       |\n\n\n**Variable type: character**\n\n|skim_variable                   | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------------------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|agency_name                     |         0|          1.00|  11|  45|     0|       25|          0|\n|program_name                    |         0|          1.00|   4| 190|     0|     1496|          0|\n|additional_information_optional |      1464|          0.06|  18|  50|     0|       17|          0|\n|agency_code                     |         0|          1.00|   3|   3|     0|       25|          0|\n|program_code                    |         0|          1.00|   7|   7|     0|     1554|          0|\n|program_code_pod_format         |         0|          1.00|   7|   7|     0|     1554|          0|\n\n\n:::\n:::\n\n\n\n## OMB Codes\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nomb_codes %>%\n  skim()\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |           |\n|:------------------------|:----------|\n|Name                     |Piped data |\n|Number of rows           |368        |\n|Number of columns        |6          |\n|_______________________  |           |\n|Column type frequency:   |           |\n|character                |3          |\n|numeric                  |3          |\n|________________________ |           |\n|Group variables          |None       |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|agency_name   |         0|             1|  12|  81|     0|      134|          0|\n|bureau_name   |         0|             1|   4|  84|     0|      359|          0|\n|treasury_code |         0|             1|   1|   2|     0|       74|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable | n_missing| complete_rate|   mean|     sd| p0|   p25|  p50|    p75| p100|hist  |\n|:-------------|---------:|-------------:|------:|------:|--:|-----:|----:|------:|----:|:-----|\n|agency_code   |         0|          1.00| 161.40| 211.68|  1|  9.75| 22.0| 352.75|  920|▇▂▂▁▁ |\n|bureau_code   |         0|          1.00|  20.61|  25.26|  0|  0.00| 11.0|  30.50|   97|▇▂▁▁▁ |\n|cgac_code     |        28|          0.92| 131.96| 193.05|  0| 13.75| 49.5|  91.00|  920|▇▁▂▁▁ |\n\n\n:::\n:::\n\n\n\n# Joining Datasets: Mapping Programs to Bureaus\n\nBefore diving into the analysis, we need to connect the CDC dataset metadata to the organizational structure provided by the FPI and OMB code tables. The `bureau_code` and `program_code` columns in `cdc_datasets` serve as keys to look up human-readable agency and program names.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Parse bureau_code into agency and bureau components\n# Format is \"agency_code:bureau_code\" e.g., \"009:20\"\ncdc_enriched <- cdc_datasets %>%\n  separate(\n    bureau_code,\n    into = c(\"agency_code_str\", \"bureau_code_str\"),\n    sep = \":\",\n    remove = FALSE,\n    fill = \"right\"\n  ) %>%\n  mutate(\n    agency_code_num = as.numeric(agency_code_str),\n    bureau_code_num = as.numeric(bureau_code_str)\n  ) %>%\n  left_join(\n    omb_codes,\n    by = c(\"agency_code_num\" = \"agency_code\", \"bureau_code_num\" = \"bureau_code\")\n  ) %>%\n  left_join(\n    fpi_codes %>% select(program_name, program_code_pod_format),\n    by = c(\"program_code\" = \"program_code_pod_format\")\n  )\n\ncdc_enriched %>%\n  count(bureau_name, sort = TRUE) %>%\n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n  bureau_name                                      n\n  <chr>                                        <int>\n1 Centers for Disease Control and Prevention     953\n2 Department of Health and Human Services        285\n3 <NA>                                            12\n4 Health Resources and Services Administration     6\n5 Centers for Medicare and Medicaid Services       1\n```\n\n\n:::\n:::\n\n\n\n# Which Bureaus and Programs Hold the Most Archived Data?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Top bureaus\ntop_bureaus <- cdc_enriched %>%\n  filter(!is.na(bureau_name)) %>%\n  count(bureau_name, sort = TRUE) %>%\n  head(10) %>%\n  mutate(bureau_name = fct_reorder(bureau_name, n))\n\n# Top programs\ntop_programs <- cdc_enriched %>%\n  filter(!is.na(program_name)) %>%\n  count(program_name, sort = TRUE) %>%\n  head(10) %>%\n  mutate(program_name = fct_reorder(program_name, n))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_bureaus %>%\n  gt() %>%\n  tab_header(\n    title = \"Top 10 Bureaus by Archived Dataset Count\"\n  ) %>%\n  cols_label(\n    bureau_name = \"Bureau\",\n    n = \"Datasets\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"kbducpimap\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#kbducpimap table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#kbducpimap thead, #kbducpimap tbody, #kbducpimap tfoot, #kbducpimap tr, #kbducpimap td, #kbducpimap th {\n  border-style: none;\n}\n\n#kbducpimap p {\n  margin: 0;\n  padding: 0;\n}\n\n#kbducpimap .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#kbducpimap .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#kbducpimap .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#kbducpimap .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#kbducpimap .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kbducpimap .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kbducpimap .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#kbducpimap .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#kbducpimap .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#kbducpimap .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#kbducpimap .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#kbducpimap .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#kbducpimap .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#kbducpimap .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#kbducpimap .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#kbducpimap .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#kbducpimap .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#kbducpimap .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#kbducpimap .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kbducpimap .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#kbducpimap .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#kbducpimap .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#kbducpimap .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kbducpimap .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#kbducpimap .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#kbducpimap .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kbducpimap .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kbducpimap .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#kbducpimap .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kbducpimap .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#kbducpimap .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#kbducpimap .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kbducpimap .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kbducpimap .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#kbducpimap .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#kbducpimap .gt_left {\n  text-align: left;\n}\n\n#kbducpimap .gt_center {\n  text-align: center;\n}\n\n#kbducpimap .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#kbducpimap .gt_font_normal {\n  font-weight: normal;\n}\n\n#kbducpimap .gt_font_bold {\n  font-weight: bold;\n}\n\n#kbducpimap .gt_font_italic {\n  font-style: italic;\n}\n\n#kbducpimap .gt_super {\n  font-size: 65%;\n}\n\n#kbducpimap .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#kbducpimap .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#kbducpimap .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#kbducpimap .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#kbducpimap .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#kbducpimap .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#kbducpimap .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#kbducpimap .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#kbducpimap div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Top 10 Bureaus by Archived Dataset Count</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"bureau_name\">Bureau</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">Datasets</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"bureau_name\" class=\"gt_row gt_center\">Centers for Disease Control and Prevention</td>\n<td headers=\"n\" class=\"gt_row gt_right\">953</td></tr>\n    <tr><td headers=\"bureau_name\" class=\"gt_row gt_center\">Department of Health and Human Services</td>\n<td headers=\"n\" class=\"gt_row gt_right\">285</td></tr>\n    <tr><td headers=\"bureau_name\" class=\"gt_row gt_center\">Health Resources and Services Administration</td>\n<td headers=\"n\" class=\"gt_row gt_right\">6</td></tr>\n    <tr><td headers=\"bureau_name\" class=\"gt_row gt_center\">Centers for Medicare and Medicaid Services</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n# What Are These Datasets About? Keyword Analysis\n\nThe `tags` column contains comma-separated keywords describing each dataset. By tokenizing these tags, we can see which public health topics are most represented in the archived data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Tokenize the tags column — each tag is comma-separated\nkeyword_counts <- cdc_datasets %>%\n  select(tags) %>%\n  filter(!is.na(tags)) %>%\n  separate_rows(tags, sep = \",\") %>%\n  mutate(tags = str_trim(str_to_lower(tags))) %>%\n  filter(tags != \"\") %>%\n  count(tags, sort = TRUE)\n\nkeyword_counts %>%\n  head(20) %>%\n  gt() %>%\n  tab_header(\n    title = \"Top 20 Keywords Across Archived CDC Datasets\"\n  ) %>%\n  cols_label(\n    tags = \"Keyword\",\n    n = \"Frequency\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ewdtqicnii\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ewdtqicnii table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ewdtqicnii thead, #ewdtqicnii tbody, #ewdtqicnii tfoot, #ewdtqicnii tr, #ewdtqicnii td, #ewdtqicnii th {\n  border-style: none;\n}\n\n#ewdtqicnii p {\n  margin: 0;\n  padding: 0;\n}\n\n#ewdtqicnii .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ewdtqicnii .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ewdtqicnii .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ewdtqicnii .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ewdtqicnii .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ewdtqicnii .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ewdtqicnii .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ewdtqicnii .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ewdtqicnii .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ewdtqicnii .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ewdtqicnii .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ewdtqicnii .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ewdtqicnii .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ewdtqicnii .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ewdtqicnii .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ewdtqicnii .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ewdtqicnii .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ewdtqicnii .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ewdtqicnii .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ewdtqicnii .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ewdtqicnii .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ewdtqicnii .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ewdtqicnii .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ewdtqicnii .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ewdtqicnii .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ewdtqicnii .gt_left {\n  text-align: left;\n}\n\n#ewdtqicnii .gt_center {\n  text-align: center;\n}\n\n#ewdtqicnii .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ewdtqicnii .gt_font_normal {\n  font-weight: normal;\n}\n\n#ewdtqicnii .gt_font_bold {\n  font-weight: bold;\n}\n\n#ewdtqicnii .gt_font_italic {\n  font-style: italic;\n}\n\n#ewdtqicnii .gt_super {\n  font-size: 65%;\n}\n\n#ewdtqicnii .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ewdtqicnii .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ewdtqicnii .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ewdtqicnii .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ewdtqicnii .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ewdtqicnii .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ewdtqicnii .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ewdtqicnii .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ewdtqicnii div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Top 20 Keywords Across Archived CDC Datasets</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"tags\">Keyword</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">Frequency</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">nndss</td>\n<td headers=\"n\" class=\"gt_row gt_right\">292</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">wonder</td>\n<td headers=\"n\" class=\"gt_row gt_right\">292</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">nedss</td>\n<td headers=\"n\" class=\"gt_row gt_right\">291</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">netss</td>\n<td headers=\"n\" class=\"gt_row gt_right\">291</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">covid-19</td>\n<td headers=\"n\" class=\"gt_row gt_right\">166</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">this dataset does not have any tags</td>\n<td headers=\"n\" class=\"gt_row gt_right\">154</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">coronavirus</td>\n<td headers=\"n\" class=\"gt_row gt_right\">129</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">nchs</td>\n<td headers=\"n\" class=\"gt_row gt_right\">127</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">united states</td>\n<td headers=\"n\" class=\"gt_row gt_right\">120</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">mortality</td>\n<td headers=\"n\" class=\"gt_row gt_right\">116</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">deaths</td>\n<td headers=\"n\" class=\"gt_row gt_right\">104</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">nvss</td>\n<td headers=\"n\" class=\"gt_row gt_right\">86</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">2019</td>\n<td headers=\"n\" class=\"gt_row gt_right\">81</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">osh</td>\n<td headers=\"n\" class=\"gt_row gt_right\">79</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">provisional</td>\n<td headers=\"n\" class=\"gt_row gt_right\">73</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">age</td>\n<td headers=\"n\" class=\"gt_row gt_right\">71</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">brfss</td>\n<td headers=\"n\" class=\"gt_row gt_right\">70</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">mmwr</td>\n<td headers=\"n\" class=\"gt_row gt_right\">65</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">prevalence</td>\n<td headers=\"n\" class=\"gt_row gt_right\">65</td></tr>\n    <tr><td headers=\"tags\" class=\"gt_row gt_left\">tobacco</td>\n<td headers=\"n\" class=\"gt_row gt_right\">64</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n## Categorizing Keywords by Public Health Domain\n\nTo understand the thematic landscape, we can group keywords into broader public health domains and see how the archived data breaks down.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Flag keywords related to the purge's stated focus\nhiv_lgbtq_keywords <- c(\n  \"hiv\",\n  \"aids\",\n  \"lgbtq\",\n  \"lesbian\",\n  \"gay\",\n  \"bisexual\",\n  \"transgender\",\n  \"sexual orientation\",\n  \"gender identity\",\n  \"sexual health\",\n  \"sti\",\n  \"sexually transmitted\",\n  \"prep\",\n  \"antiretroviral\",\n  \"hiv/aids\",\n  \"hiv prevention\",\n  \"men who have sex with men\",\n  \"msm\"\n)\n\nkeyword_flagged <- keyword_counts %>%\n  mutate(\n    hiv_lgbtq_related = str_detect(\n      tags,\n      str_c(hiv_lgbtq_keywords, collapse = \"|\")\n    )\n  )\n\nhiv_lgbtq_summary <- keyword_flagged %>%\n  group_by(hiv_lgbtq_related) %>%\n  summarize(\n    unique_keywords = n(),\n    total_occurrences = sum(n),\n    .groups = \"drop\"\n  )\n\nhiv_lgbtq_summary %>%\n  gt() %>%\n  tab_header(\n    title = \"HIV/LGBTQ+ Related Keywords vs. Other Keywords\"\n  ) %>%\n  cols_label(\n    hiv_lgbtq_related = \"HIV/LGBTQ+ Related\",\n    unique_keywords = \"Unique Keywords\",\n    total_occurrences = \"Total Occurrences\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"nplebofbvm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#nplebofbvm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#nplebofbvm thead, #nplebofbvm tbody, #nplebofbvm tfoot, #nplebofbvm tr, #nplebofbvm td, #nplebofbvm th {\n  border-style: none;\n}\n\n#nplebofbvm p {\n  margin: 0;\n  padding: 0;\n}\n\n#nplebofbvm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#nplebofbvm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#nplebofbvm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#nplebofbvm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#nplebofbvm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#nplebofbvm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#nplebofbvm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#nplebofbvm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#nplebofbvm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#nplebofbvm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#nplebofbvm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#nplebofbvm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#nplebofbvm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#nplebofbvm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#nplebofbvm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nplebofbvm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#nplebofbvm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#nplebofbvm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#nplebofbvm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nplebofbvm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#nplebofbvm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nplebofbvm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#nplebofbvm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nplebofbvm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#nplebofbvm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#nplebofbvm .gt_left {\n  text-align: left;\n}\n\n#nplebofbvm .gt_center {\n  text-align: center;\n}\n\n#nplebofbvm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#nplebofbvm .gt_font_normal {\n  font-weight: normal;\n}\n\n#nplebofbvm .gt_font_bold {\n  font-weight: bold;\n}\n\n#nplebofbvm .gt_font_italic {\n  font-style: italic;\n}\n\n#nplebofbvm .gt_super {\n  font-size: 65%;\n}\n\n#nplebofbvm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#nplebofbvm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#nplebofbvm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#nplebofbvm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#nplebofbvm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#nplebofbvm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#nplebofbvm .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#nplebofbvm .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#nplebofbvm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>HIV/LGBTQ+ Related Keywords vs. Other Keywords</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"hiv_lgbtq_related\">HIV/LGBTQ+ Related</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"unique_keywords\">Unique Keywords</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"total_occurrences\">Total Occurrences</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"hiv_lgbtq_related\" class=\"gt_row gt_center\">FALSE</td>\n<td headers=\"unique_keywords\" class=\"gt_row gt_right\">1325</td>\n<td headers=\"total_occurrences\" class=\"gt_row gt_right\">9484</td></tr>\n    <tr><td headers=\"hiv_lgbtq_related\" class=\"gt_row gt_center\">TRUE</td>\n<td headers=\"unique_keywords\" class=\"gt_row gt_right\">31</td>\n<td headers=\"total_occurrences\" class=\"gt_row gt_right\">63</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n::: {.callout-important}\nThe removal of these datasets doesn't just affect researchers studying HIV or LGBTQ+ health. Many of these datasets are cross-cutting --- surveillance data, behavioral surveys, and demographic health indicators that inform a wide range of public health decisions.\n:::\n\n# Dataset Access Levels\n\nUnderstanding which datasets were public vs. restricted helps quantify the transparency impact.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncdc_datasets %>%\n  count(public_access_level, sort = TRUE) %>%\n  gt() %>%\n  tab_header(\n    title = \"Distribution of Public Access Levels\"\n  ) %>%\n  cols_label(\n    public_access_level = \"Access Level\",\n    n = \"Count\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"elsegbjfdh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#elsegbjfdh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#elsegbjfdh thead, #elsegbjfdh tbody, #elsegbjfdh tfoot, #elsegbjfdh tr, #elsegbjfdh td, #elsegbjfdh th {\n  border-style: none;\n}\n\n#elsegbjfdh p {\n  margin: 0;\n  padding: 0;\n}\n\n#elsegbjfdh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#elsegbjfdh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#elsegbjfdh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#elsegbjfdh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#elsegbjfdh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#elsegbjfdh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#elsegbjfdh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#elsegbjfdh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#elsegbjfdh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#elsegbjfdh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#elsegbjfdh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#elsegbjfdh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#elsegbjfdh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#elsegbjfdh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#elsegbjfdh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsegbjfdh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#elsegbjfdh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#elsegbjfdh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#elsegbjfdh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsegbjfdh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#elsegbjfdh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsegbjfdh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#elsegbjfdh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsegbjfdh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#elsegbjfdh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#elsegbjfdh .gt_left {\n  text-align: left;\n}\n\n#elsegbjfdh .gt_center {\n  text-align: center;\n}\n\n#elsegbjfdh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#elsegbjfdh .gt_font_normal {\n  font-weight: normal;\n}\n\n#elsegbjfdh .gt_font_bold {\n  font-weight: bold;\n}\n\n#elsegbjfdh .gt_font_italic {\n  font-style: italic;\n}\n\n#elsegbjfdh .gt_super {\n  font-size: 65%;\n}\n\n#elsegbjfdh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#elsegbjfdh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#elsegbjfdh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#elsegbjfdh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#elsegbjfdh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#elsegbjfdh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#elsegbjfdh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#elsegbjfdh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#elsegbjfdh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Distribution of Public Access Levels</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"public_access_level\">Access Level</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n\">Count</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"public_access_level\" class=\"gt_row gt_left\">NA</td>\n<td headers=\"n\" class=\"gt_row gt_right\">647</td></tr>\n    <tr><td headers=\"public_access_level\" class=\"gt_row gt_left\">public</td>\n<td headers=\"n\" class=\"gt_row gt_right\">532</td></tr>\n    <tr><td headers=\"public_access_level\" class=\"gt_row gt_left\">public domain</td>\n<td headers=\"n\" class=\"gt_row gt_right\">70</td></tr>\n    <tr><td headers=\"public_access_level\" class=\"gt_row gt_left\">non-public</td>\n<td headers=\"n\" class=\"gt_row gt_right\">7</td></tr>\n    <tr><td headers=\"public_access_level\" class=\"gt_row gt_left\">restricted public</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td></tr>\n  </tbody>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n# Category Landscape\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncategory_counts <- cdc_datasets %>%\n  filter(!is.na(category)) %>%\n  count(category, sort = TRUE) %>%\n  mutate(category = fct_reorder(category, n))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nif (!dir.exists(here::here('posts', '2025-02-11', 'output'))) {\n  dir.create(here::here('posts', '2025-02-11', 'output'), recursive = TRUE)\n}\n\ngg_record(\n  here::here('posts', '2025-02-11', 'output'),\n  device = \"png\",\n  width = 10,\n  height = 7,\n  units = \"in\",\n  dpi = 320\n)\n```\n:::\n\n\n\n# Visualization\n\n## Top Keywords in Archived CDC Datasets\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Pull HIV/LGBTQ+ keywords that actually appear in the data\nhiv_lgbtq_hits <- keyword_flagged %>%\n  filter(hiv_lgbtq_related) %>%\n  arrange(desc(n))\n\n# Combine: top 20 overall + any HIV/LGBTQ+ keywords not already in the top 20\ntop_overall <- keyword_counts %>% head(20)\n\nhiv_extras <- hiv_lgbtq_hits %>%\n  filter(tags %ni% top_overall$tags)\n\ncombined_kw <- bind_rows(\n  top_overall %>% mutate(hiv_lgbtq = tags %in% hiv_lgbtq_hits$tags),\n  hiv_extras %>%\n    head(10) %>%\n    mutate(hiv_lgbtq = TRUE) %>%\n    select(-hiv_lgbtq_related)\n) %>%\n  distinct(tags, .keep_all = TRUE) %>%\n  mutate(tags = fct_reorder(tags, n))\n\np_keywords <- ggplot(combined_kw, aes(x = n, y = tags, fill = hiv_lgbtq)) +\n  geom_col() +\n  scale_fill_manual(\n    values = c(\"TRUE\" = \"#D32F2F\", \"FALSE\" = \"#1565C0\"),\n    labels = c(\"TRUE\" = \"HIV/LGBTQ+ Related\", \"FALSE\" = \"Other\"),\n    name = NULL\n  ) +\n  labs(\n    title = \"Most Frequent Keywords in Archived CDC Datasets\",\n    subtitle = \"Top 20 overall keywords plus HIV/LGBTQ+-related keywords (red) wherever they rank\",\n    x = \"Number of Datasets\",\n    y = NULL,\n    caption = \"Source: TidyTuesday 2025-02-11 | CDC Archived Datasets\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    plot.subtitle = element_text(color = \"gray40\", size = 11),\n    legend.position = \"top\",\n    panel.grid.major.y = element_blank()\n  )\n\np_keywords\n```\n\n::: {.cell-output-display}\n![](2025-02-11_files/figure-html/viz-keywords-1.png){width=960}\n:::\n:::\n\n\n\n## Datasets by Category and Bureau\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\np_bureau <- ggplot(top_bureaus, aes(x = n, y = bureau_name)) +\n  geom_col(fill = \"#2E7D32\") +\n  labs(\n    title = \"Top 10 Bureaus\",\n    x = \"Archived Datasets\",\n    y = NULL\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.title = element_text(face = \"bold\"),\n    panel.grid.major.y = element_blank()\n  )\n\np_category <- ggplot(\n  category_counts %>% tail(10),\n  aes(x = n, y = category)\n) +\n  geom_col(fill = \"#6A1B9A\") +\n  labs(\n    title = \"Top 10 Categories\",\n    x = \"Archived Datasets\",\n    y = NULL\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.title = element_text(face = \"bold\"),\n    panel.grid.major.y = element_blank()\n  )\n\np_bureau +\n  p_category +\n  plot_annotation(\n    title = \"Organizational and Thematic Distribution of Archived CDC Data\",\n    subtitle = \"Which corners of the CDC were most affected?\",\n    caption = \"Source: TidyTuesday 2025-02-11 | CDC Archived Datasets\",\n    theme = theme(\n      plot.title = element_text(face = \"bold\", size = 16),\n      plot.subtitle = element_text(color = \"gray40\", size = 12)\n    )\n  )\n```\n\n::: {.cell-output-display}\n![](2025-02-11_files/figure-html/viz-bureau-category-1.png){width=1152}\n:::\n:::\n\n\n\n## Update Frequency of Archived Datasets\n\nUnderstanding how frequently these datasets were being updated before archival tells us something about how \"alive\" the data was.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Decode ISO 8601 duration codes and normalize free-text entries\nupdate_freq <- cdc_datasets %>%\n  filter(!is.na(update_frequency)) %>%\n  mutate(\n    update_label = case_when(\n      str_detect(str_to_lower(update_frequency), \"r/p1d|daily\") ~ \"Daily\",\n      str_detect(\n        str_to_lower(update_frequency),\n        \"r/p1w|weekly|weekdays\"\n      ) ~ \"Weekly\",\n      str_detect(\n        str_to_lower(update_frequency),\n        \"r/p2w|biweekly|two weeks\"\n      ) ~ \"Biweekly\",\n      str_detect(str_to_lower(update_frequency), \"r/p1m|monthly\") ~ \"Monthly\",\n      str_detect(\n        str_to_lower(update_frequency),\n        \"r/p3m|quarterly\"\n      ) ~ \"Quarterly\",\n      str_detect(\n        str_to_lower(update_frequency),\n        \"r/p6m|semiannual\"\n      ) ~ \"Semiannually\",\n      str_detect(str_to_lower(update_frequency), \"r/p1y|annual\") ~ \"Annually\",\n      str_detect(\n        str_to_lower(update_frequency),\n        \"r/p2y|r/p4y|r/p5y\"\n      ) ~ \"Multi-year\",\n      str_detect(\n        str_to_lower(update_frequency),\n        \"irregular|continuous\"\n      ) ~ \"Irregular\",\n      str_detect(\n        str_to_lower(update_frequency),\n        \"no longer|not updated|archived|will not be\"\n      ) ~ \"No longer updated\",\n      TRUE ~ \"Other\"\n    )\n  ) %>%\n  count(update_label, sort = TRUE) %>%\n  mutate(update_label = fct_reorder(update_label, n))\n\nggplot(update_freq, aes(x = n, y = update_label)) +\n  geom_col(fill = \"#E65100\") +\n  labs(\n    title = \"Update Frequency of Archived CDC Datasets\",\n    subtitle = \"Most archived datasets were on active update schedules before removal\",\n    x = \"Number of Datasets\",\n    y = NULL,\n    caption = \"Source: TidyTuesday 2025-02-11 | CDC Archived Datasets\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    plot.subtitle = element_text(color = \"gray40\"),\n    panel.grid.major.y = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](2025-02-11_files/figure-html/viz-update-frequency-1.png){width=960}\n:::\n:::\n\n\n\n# Final thoughts and takeaways\n\nThe 1,257 archived CDC datasets represent a broad cross-section of the agency's public health surveillance and reporting infrastructure. The data is not narrowly scoped to HIV or LGBTQ+ health --- it spans chronic disease surveillance, environmental health, injury prevention, and population-level health indicators. The keyword analysis reveals that while HIV- and LGBTQ+-related terms are present, the majority of affected datasets cover general public health topics, suggesting that the purge cast a wider net than its stated focus.\n\nThe organizational breakdown shows that the bulk of archived data came from a small number of CDC bureaus, concentrating the knowledge gap in specific programmatic areas. Many of these datasets were being updated on annual or more frequent cycles, meaning they were actively maintained resources --- not stale archives gathering dust. Their removal creates gaps in longitudinal data that may be difficult or impossible to reconstruct.\n\n::: {.callout-note}\nThe archival effort that produced this dataset was a proactive response by civil society and data preservation organizations. The fact that this metadata exists at all is thanks to groups who anticipated the purge and acted to document what was publicly available before it disappeared.\n:::\n\nThe broader implication is structural: when public health data disappears from federal servers, it doesn't just affect researchers. Clinicians, state health departments, epidemiologists tracking outbreaks, and community health organizations all lose access to the evidence base they rely on for decision-making. Data removal is, in practice, a form of policy change that bypasses the legislative process.\n",
    "supporting": [
      "2025-02-11_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}